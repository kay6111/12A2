<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galaxy with Zoom Effect</title>
    <link rel="stylesheet" href="style.css">
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.152.2/build/three.module.js",
            "three/addons/controls/OrbitControls.js": "https://unpkg.com/three@0.152.2/examples/jsm/controls/OrbitControls.js",
            "three/examples/jsm/loaders/FontLoader.js": "https://unpkg.com/three@0.152.2/examples/jsm/loaders/FontLoader.js",
            "three/examples/jsm/geometries/TextGeometry.js": "https://unpkg.com/three@0.152.2/examples/jsm/geometries/TextGeometry.js"
        }
    }
    </script>
</head>

<body>
    <div id="container"></div>
    <div id="landscape-warning">
        <div class="warning-content">
            <div class="rotate-icon"></div>
            <h1>Stellar Bloom</h1>
            <h1>Tinh Cầu</h1>
            <div class="stars-bg"></div>
        </div>
    </div>
    <div id="dark-overlay"></div>
    <div id="info">
        
    </div>
    <script type="module" src="script.js"></script>

    <audio id="bg-music" autoplay muted loop>
        <source src="music/nhungayhomqua.mp3" type="audio/mpeg">
    </audio>

</body>
<script>
    const bgMusic = document.getElementById('bg-music');

    function handleInteraction() {
        // 1. Bỏ tắt tiếng
        if (bgMusic.muted) {
            bgMusic.muted = false; 
        }
        
        // 2. Đảm bảo nhạc bắt đầu (hoặc tiếp tục) phát
        bgMusic.play().catch(error => {
            console.log("Play failed, likely due to browser policy:", error);
        });

        // 3. Xóa lắng nghe sự kiện để tránh chạy lại không cần thiết
        document.removeEventListener('click', handleInteraction); 
        document.removeEventListener('touchstart', handleInteraction);
    }

    // Lắng nghe sự kiện tương tác của người dùng
    document.addEventListener('click', handleInteraction);
    document.addEventListener('touchstart', handleInteraction);
</script>
</html>